<ion-header [translucent]="true">
  <ion-content [fullscreen]="true" class="car-detail-content">
    <ion-header collapse="condense">
      <ion-toolbar>
        <ion-title size="large">car-detail</ion-title>
      </ion-toolbar>
    </ion-header>

    <div class="detail-container" *ngIf="car">
      <div class="info-section">
        <h2 *ngIf="!isEditMode">{{ car?.brand }} {{ car?.model }}</h2>
        <p *ngIf="!isEditMode">License Plate: {{ car?.licensePlate }}</p>
        <form *ngIf="isEditMode" class="edit-mode-form">
          <ion-item>
            <ion-label position="floating">Brand</ion-label>
            <ion-input [(ngModel)]="car.brand" name="brand"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label position="floating">Model</ion-label>
            <ion-input [(ngModel)]="car.model" name="model"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label position="floating">License Plate</ion-label>
            <ion-input [(ngModel)]="car.licensePlate" name="licensePlate"></ion-input>
          </ion-item>
        </form>
      </div>
      <div class="images-section">
        <ion-img [src]="car.frontPhoto" alt="Front Photo" class="small-img" (click)="openImageModal(car.frontPhoto)"></ion-img>
        <ion-img [src]="car.rearPhoto" alt="Rear Photo" class="small-img" (click)="openImageModal(car.rearPhoto)"></ion-img>
        <form *ngIf="isEditMode">
          <ion-item>
            <ion-img [src]="car?.frontPhoto" alt="Front Photo" class="small-img"></ion-img>
            <input type="file" (change)="onFileSelected($event, 'frontPhoto')">
          </ion-item>
          <ion-item>
            <ion-img [src]="car?.rearPhoto" alt="Rear Photo" class="small-img"></ion-img>
            <input type="file" (change)="onFileSelected($event, 'rearPhoto')">
          </ion-item>
        </form>
      </div>
      <div class="buttons-section">
        <ion-button *ngIf="!isEditMode" (click)="enableEditMode()">
          <ion-icon name="create" style="color: white;"></ion-icon>
        </ion-button>
        <ion-button *ngIf="!isEditMode" color="danger" (click)="deleteCar()">
          <ion-icon name="trash" style="color: white;"></ion-icon>
        </ion-button>
        <ion-button *ngIf="isEditMode" (click)="confirmUpdate()">
          <ion-icon name="checkmark" style="color: white;"></ion-icon>
        </ion-button>
        <ion-button *ngIf="isEditMode" color="medium" (click)="cancelUpdate()">
          <ion-icon name="close" style="color: white;"></ion-icon>
        </ion-button>
      </div>
    </div>
  </ion-content>
</ion-header>
