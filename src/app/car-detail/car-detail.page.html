<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>car-detail</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="car-detail-content">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">car-detail</ion-title>
    </ion-toolbar>
  </ion-header>

  <div class="detail-container" *ngIf="car">
    <div class="info-section">
      <h2 *ngIf="!isEditMode">{{ car?.brand }} {{ car?.model }}</h2>
      <p *ngIf="!isEditMode">License Plate: {{ car?.licensePlate }}</p>
      <form *ngIf="isEditMode">
        <ion-item>
          <ion-label position="floating">Brand</ion-label>
          <ion-input [(ngModel)]="car.brand" name="brand"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label position="floating">Model</ion-label>
          <ion-input [(ngModel)]="car.model" name="model"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label position="floating">License Plate</ion-label>
          <ion-input [(ngModel)]="car.licensePlate" name="licensePlate"></ion-input>
        </ion-item>
      </form>
    </div>
    <div class="images-section">
      <ion-img *ngIf="!isEditMode" [src]="car?.frontPhoto" alt="Front Photo" class="small-img"></ion-img>
      <ion-img *ngIf="!isEditMode" [src]="car?.rearPhoto" alt="Rear Photo" class="small-img"></ion-img>
      <form *ngIf="isEditMode">
        <ion-item>
          <ion-label position="floating">Front Photo URL</ion-label>
          <ion-img [src]="car?.frontPhoto" alt="Front Photo" class="small-img"></ion-img>
          <input type="file" (change)="onFileSelected($event, 'frontPhoto')">
        </ion-item>
        <ion-item>
          <ion-label position="floating">Rear Photo URL</ion-label>
          <ion-img [src]="car?.rearPhoto" alt="Rear Photo" class="small-img"></ion-img>
          <input type="file" (change)="onFileSelected($event, 'rearPhoto')">
        </ion-item>
      </form>
    </div>
    <div class="buttons-section">
      <ion-button *ngIf="!isEditMode" (click)="enableEditMode()">Update</ion-button>
      <ion-button *ngIf="!isEditMode" color="danger" (click)="deleteCar()">Delete</ion-button>
      <ion-button *ngIf="isEditMode" (click)="confirmUpdate()">Confirm</ion-button>
      <ion-button *ngIf="isEditMode" color="medium" (click)="cancelUpdate()">Cancel</ion-button>
    </div>
  </div>
</ion-content>
